2025-11-14 14:15:45 - __main__ - INFO - Logging configurado. Guardando en: ./exp/apo-506_20251114_141545/experimento.log
2025-11-14 14:15:45 - __main__ - INFO - ================================================================================
2025-11-14 14:15:45 - __main__ - INFO - R_to_py: Workflow Completo de 3 Etapas
2025-11-14 14:15:45 - __main__ - INFO - ================================================================================
2025-11-14 14:15:45 - __main__ - INFO - Inicio: 2025-11-14 14:15:45
2025-11-14 14:15:45 - __main__ - INFO - Experimento: apo-506
2025-11-14 14:15:45 - __main__ - INFO - Ganancia por acierto: $780,000
2025-11-14 14:15:45 - __main__ - INFO - Costo por est√≠mulo: $20,000
2025-11-14 14:15:45 - __main__ - INFO - Canaritos: 5
2025-11-14 14:15:45 - __main__ - INFO - Lags y Deltas: True (√≥rdenes: [1, 2])
2025-11-14 14:15:45 - __main__ - INFO - Undersampling: True (ratio=0.05)
2025-11-14 14:15:45 - __main__ - INFO - 
2025-11-14 14:15:45 - __main__ - INFO - Configuraci√≥n guardada en: ./exp/apo-506_20251114_141545/configuracion.json
2025-11-14 14:15:45 - __main__ - INFO - Configuraci√≥n guardada en: ./exp/apo-506_20251114_141545/configuracion.json
2025-11-14 14:15:45 - __main__ - INFO - 
2025-11-14 14:15:45 - __main__ - INFO - ================================================================================
2025-11-14 14:15:45 - __main__ - INFO - PASO 1: Carga y preprocesamiento
2025-11-14 14:15:45 - __main__ - INFO - ================================================================================
2025-11-14 14:15:45 - __main__ - INFO - Cargando dataset desde ~/datasets/competencia_02_crudo.csv.gz...
2025-11-14 14:17:26 - __main__ - INFO - Dataset cargado: (4717958, 154)
2025-11-14 14:17:26 - __main__ - INFO - Calculando clase_ternaria...
2025-11-14 14:17:37 - __main__ - INFO - Distribuci√≥n de clases por periodo:
2025-11-14 14:17:37 - __main__ - INFO -   201901: BAJA+1 = 645
2025-11-14 14:17:37 - __main__ - INFO -   201901: BAJA+2 = 729
2025-11-14 14:17:37 - __main__ - INFO -   201901: CONTINUA = 122899
2025-11-14 14:17:37 - __main__ - INFO -   201902: BAJA+1 = 733
2025-11-14 14:17:37 - __main__ - INFO -   201902: BAJA+2 = 707
2025-11-14 14:17:37 - __main__ - INFO -   201902: CONTINUA = 123961
2025-11-14 14:17:37 - __main__ - INFO -   201903: BAJA+1 = 708
2025-11-14 14:17:37 - __main__ - INFO -   201903: BAJA+2 = 751
2025-11-14 14:17:37 - __main__ - INFO -   201903: CONTINUA = 124508
2025-11-14 14:17:37 - __main__ - INFO -   201904: BAJA+1 = 756
2025-11-14 14:17:37 - __main__ - INFO -   201904: BAJA+2 = 514
2025-11-14 14:17:37 - __main__ - INFO -   201904: CONTINUA = 125268
2025-11-14 14:17:37 - __main__ - INFO -   201905: BAJA+1 = 517
2025-11-14 14:17:37 - __main__ - INFO -   201905: BAJA+2 = 692
2025-11-14 14:17:37 - __main__ - INFO -   201905: CONTINUA = 125993
2025-11-14 14:17:37 - __main__ - INFO -   201906: BAJA+1 = 696
2025-11-14 14:17:37 - __main__ - INFO -   201906: BAJA+2 = 608
2025-11-14 14:17:37 - __main__ - INFO -   201906: CONTINUA = 127430
2025-11-14 14:17:37 - __main__ - INFO -   201907: BAJA+1 = 611
2025-11-14 14:17:37 - __main__ - INFO -   201907: BAJA+2 = 680
2025-11-14 14:17:37 - __main__ - INFO - Agregando 5 canaritos...
2025-11-14 14:17:37 - __main__ - INFO - Agregando lags y deltas (√≥rdenes: [1, 2])...
2025-11-14 14:17:44 - __main__ - INFO -   Columnas lagueables: 152
2025-11-14 14:17:44 - __main__ - INFO -   √ìrdenes de lag: [1, 2]
2025-11-14 14:17:44 - __main__ - INFO -   Creando lags de orden 1...
2025-11-14 14:18:08 - __main__ - INFO -   Creando lags de orden 2...
2025-11-14 14:18:35 - __main__ - INFO -   Creando deltas...
2025-11-14 14:18:45 - __main__ - INFO -   ‚úì Features creados: 608 (304 lags + 304 deltas)
2025-11-14 14:18:45 - __main__ - INFO -   ‚úì Duraci√≥n: 0:01:07.453075
2025-11-14 14:18:45 - __main__ - INFO -   ‚úì Shape final: (4717958, 768)
2025-11-14 14:18:45 - __main__ - INFO - ================================================================================
2025-11-14 14:18:45 - __main__ - INFO - PASO 2: Preparaci√≥n de datos (3 etapas)
2025-11-14 14:18:45 - __main__ - INFO - ================================================================================
2025-11-14 14:18:45 - __main__ - INFO - Train: 201901 a 202102
2025-11-14 14:18:45 - __main__ - INFO - Test: 202104 y 202106
2025-11-14 14:18:45 - __main__ - INFO - Final: 202108
2025-11-14 14:18:45 - __main__ - INFO - Preparando datos para workflow de 3 etapas...
2025-11-14 14:18:45 - __main__ - INFO - Meses de entrenamiento: 201901 a 202102 (26 meses)
2025-11-14 14:19:55 - __main__ - INFO - Train: 3,733,783 registros (26 meses)
2025-11-14 14:19:55 - __main__ - INFO - Test 1 (202104): 163,418 registros
2025-11-14 14:19:55 - __main__ - INFO - Test 2 (202106): 164,313 registros
2025-11-14 14:19:55 - __main__ - INFO - Final (202108): 164,822 registros
2025-11-14 14:19:55 - __main__ - INFO - Aplicando undersampling (ratio=0.05)...
2025-11-14 14:20:06 - __main__ - INFO -   Antes - CONTINUA: 3,702,771, BAJA+1: 15,363, BAJA+2: 15,649
2025-11-14 14:20:10 - __main__ - INFO -   Despu√©s - CONTINUA: 185,138, BAJA+1: 15,363, BAJA+2: 15,649
2025-11-14 14:20:10 - __main__ - INFO -   Total registros: 3,733,783 -> 216,150
2025-11-14 14:20:11 - __main__ - INFO - Features: 765
2025-11-14 14:20:11 - __main__ - INFO - ================================================================================
2025-11-14 14:20:11 - __main__ - INFO - ETAPA 2: TESTING (202104 y 202106)
2025-11-14 14:20:11 - __main__ - INFO - ================================================================================
2025-11-14 14:20:12 - __main__ - INFO - Train - Registros: 216,150, BAJA+2: 15,649 (7.24%)
2025-11-14 14:20:12 - __main__ - INFO - Test 1 - Registros: 163,418, BAJA+2: 1,130 (0.69%)
2025-11-14 14:20:12 - __main__ - INFO - Test 2 - Registros: 164,313, BAJA+2: 1,134 (0.69%)
2025-11-14 14:22:04 - __main__ - INFO - 
Resultados Testing:
2025-11-14 14:22:04 - __main__ - INFO -   Mejor corte: 8000
2025-11-14 14:22:04 - __main__ - INFO -   Ganancia promedio: $372,590,000
2025-11-14 14:22:04 - __main__ - INFO -   Test 1: $346,860,000 (¬±$0)
2025-11-14 14:22:04 - __main__ - INFO -   Test 2: $398,320,000 (¬±$0)
2025-11-14 14:22:04 - __main__ - INFO - 
Guardando resultados de testing...
2025-11-14 14:22:04 - __main__ - INFO -   ‚úì evaluacion_testing.csv
2025-11-14 14:22:04 - __main__ - INFO -   ‚úì matriz_test1.csv
2025-11-14 14:22:04 - __main__ - INFO -   ‚úì matriz_test2.csv
2025-11-14 14:22:05 - __main__ - INFO -   ‚úì predicciones_test1.csv (163,418 registros)
2025-11-14 14:22:05 - __main__ - INFO -   ‚úì predicciones_test2.csv (164,313 registros)
2025-11-14 14:22:05 - __main__ - INFO - ================================================================================
2025-11-14 14:22:05 - __main__ - INFO - ETAPA 3: PREDICCI√ìN FINAL (202108)
2025-11-14 14:22:05 - __main__ - INFO - ================================================================================
2025-11-14 14:22:06 - __main__ - INFO - Train: 216,150 registros
2025-11-14 14:22:06 - __main__ - INFO - Final (202108): 164,822 registros
2025-11-14 14:22:06 - __main__ - INFO - Entrenando con 1 semillas (ENSAMBLE)...
2025-11-14 14:23:41 - __main__ - INFO - 
Predicciones generadas: 164,822
2025-11-14 14:23:41 - __main__ - INFO - Top 10 probabilidades: [0.86950882 0.86276706 0.86253591 0.85389109 0.84769855 0.84533995
 0.83755078 0.83155742 0.83028507 0.82495273]
2025-11-14 14:23:41 - __main__ - INFO - 
Guardando predicciones finales...
2025-11-14 14:23:41 - __main__ - INFO -   ‚úì predicciones_final.csv (164,822 registros)
2025-11-14 14:23:41 - __main__ - INFO - ================================================================================
2025-11-14 14:23:41 - __main__ - INFO - PASO 5: Generaci√≥n de submissions
2025-11-14 14:23:41 - __main__ - INFO - ================================================================================
2025-11-14 14:23:41 - __main__ - INFO - Generando 15 submissions...
2025-11-14 14:23:42 - __main__ - INFO -   Corte 8000: 8000 env√≠os -> KAapo-506_8000.csv
2025-11-14 14:23:42 - __main__ - INFO -   Corte 10000: 10000 env√≠os -> KAapo-506_10000.csv
2025-11-14 14:23:43 - __main__ - INFO -   Corte 12500: 12500 env√≠os -> KAapo-506_12500.csv
2025-11-14 14:23:44 - __main__ - INFO -   Corte 15000: 15000 env√≠os -> KAapo-506_15000.csv
2025-11-14 14:23:44 - __main__ - INFO - 
Archivos generados:
2025-11-14 14:23:44 - __main__ - INFO -   ‚úì 15 submissions en: ./exp/apo-506_20251114_141545/kaggle
2025-11-14 14:23:44 - __main__ - INFO -   ‚úì resultados_cortes.csv
2025-11-14 14:23:44 - __main__ - INFO - ================================================================================
2025-11-14 14:23:44 - __main__ - INFO - RESUMEN DE ARCHIVOS GENERADOS
2025-11-14 14:23:44 - __main__ - INFO - ================================================================================
2025-11-14 14:23:44 - __main__ - INFO - 
üìÅ Directorio: ./exp/apo-506_20251114_141545

2025-11-14 14:23:44 - __main__ - INFO - üìÑ Configuraci√≥n y Logs:
2025-11-14 14:23:44 - __main__ - INFO -   ‚úì configuracion.json (par√°metros del experimento)
2025-11-14 14:23:44 - __main__ - INFO -   ‚úì experimento.log (log completo de ejecuci√≥n)
2025-11-14 14:23:44 - __main__ - INFO - 
üìä Testing:
2025-11-14 14:23:44 - __main__ - INFO -   ‚úì evaluacion_testing.csv (mejor corte: 8000)
2025-11-14 14:23:44 - __main__ - INFO -   ‚úì matriz_test1.csv
2025-11-14 14:23:44 - __main__ - INFO -   ‚úì matriz_test2.csv
2025-11-14 14:23:44 - __main__ - INFO -   ‚úì predicciones_test1.csv (163,418 registros)
2025-11-14 14:23:44 - __main__ - INFO -   ‚úì predicciones_test2.csv (164,313 registros)
2025-11-14 14:23:44 - __main__ - INFO - 
üéØ Final:
2025-11-14 14:23:44 - __main__ - INFO -   ‚úì predicciones_final.csv (164,822 registros)
2025-11-14 14:23:44 - __main__ - INFO -   ‚úì resultados_cortes.csv
2025-11-14 14:23:44 - __main__ - INFO - 
üì§ Submissions:
2025-11-14 14:23:44 - __main__ - INFO -   ‚úì kaggle/ (15 archivos CSV)
2025-11-14 14:23:44 - __main__ - INFO - 
================================================================================
2025-11-14 14:23:44 - __main__ - INFO - WORKFLOW COMPLETADO EXITOSAMENTE!
2025-11-14 14:23:44 - __main__ - INFO - ================================================================================
2025-11-14 14:23:44 - __main__ - INFO - Mejor corte sugerido (testing): 8000
2025-11-14 14:23:44 - __main__ - INFO - Inicio: 2025-11-14 14:15:45
2025-11-14 14:23:44 - __main__ - INFO - Fin: 2025-11-14 14:23:44
2025-11-14 14:23:44 - __main__ - INFO - Duraci√≥n: 0:07:58.743062
2025-11-14 14:23:44 - __main__ - INFO - Log guardado en: ./exp/apo-506_20251114_141545/experimento.log
2025-11-14 14:23:44 - __main__ - INFO - ================================================================================
